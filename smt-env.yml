name: smt
channels:
  - conda-forge
  - pytorch
  - nvidia
channel_priority: strict

dependencies:
  # --- Core ---
  - python=3.12
  - pip

  # --- Imaging ---
  - cairo
  - pango
  - pkg-config
  - opencv
  - pillow
  - scikit-image
  
  # --- ML stack ---
  - lightning
  - transformers
  - tokenizers
  - datasets
  - numpy
  - pandas
  - scipy
  - pyarrow
  - safetensors

  # --- Utils ---
  - jinja2
  - requests
  - tqdm
  - pyyaml
  
  # --- pip-only (includes PyTorch for ARM64+CUDA) ---
  - pip:
      - torch==2.3.1
      - torchvision==0.18.1
      - torchaudio==2.3.1
      - verovio
      - wand
      - wandb
      - huggingface-hub
      - fire 